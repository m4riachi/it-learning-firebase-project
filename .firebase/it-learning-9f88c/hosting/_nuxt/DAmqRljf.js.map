{"version":3,"file":"DAmqRljf.js","sources":["../../../../pages/login/signup.vue"],"sourcesContent":["<!-- pages/signup.vue -->\n<template>\n  <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\">\n    <div class=\"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12\">\n      <FormKit type=\"form\" :actions=\"false\" :onSubmit=\"handleSignup\">\n        <FormKit\n            type=\"text\"\n            name=\"name\"\n            label=\"Full name\"\n            validation=\"required\"\n        />\n\n        <FormKit\n            type=\"email\"\n            name=\"email\"\n            label=\"Email address\"\n            validation=\"required|email\"\n        />\n\n        <FormKit\n            type=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            validation=\"required|length:6\"\n            :validation-messages=\"{\n          'length': 'Minimum 6 charactÃ©res'\n          }\"\n        />\n\n        <FormKit\n            type=\"password\"\n            name=\"confirmPassword\"\n            label=\"Confirm password\"\n            validation=\"required|confirm\"\n            validation-label=\"Password confirmation\"\n            :validation-rules=\"{ confirm: confirmPassword }\"\n            :validation-messages=\"{\n          'confirm': 'Les deux mot de pass ne sont pas identique'\n          }\"\n        />\n\n        <div>\n          <button\n              type=\"submit\"\n              class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n          >\n            Sign up\n          </button>\n        </div>\n      </FormKit>\n\n      <LoginGoogleBtn />\n    </div>\n\n    <LoginSigninLink />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {createUserWithEmailAndPassword, updateProfile} from 'firebase/auth'\n\ndefinePageMeta({\n  layout: 'auth'\n})\n\nconst router = useRouter()\nconst auth = useFirebaseAuth()\n\n// Password confirmation validation\nconst confirmPassword = (node: any) => {\n  return node.value === node.parent.value.password\n}\n\n// Handle signup\nconst handleSignup = async (formData: any) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        formData.email,\n        formData.password\n    )\n\n    // Update user profile with name\n    if (userCredential.user) {\n      await updateProfile(userCredential.user, {\n        displayName: formData.name\n      })\n    }\n\n    // Successful signup\n    router.push('/') // or wherever you want to redirect after signup\n  } catch (e: any) {\n    const errorMessage = getErrorMessage(e?.code)\n    toastError('', errorMessage)\n  }\n}\n</script>\n"],"names":["definePageMeta","router","useRouter","auth","useFirebaseAuth","node","formData","userCredential","createUserWithEmailAndPassword","updateProfile","e","errorMessage","getErrorMessage","toastError","__nuxt_component_1","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_FormKit","$setup","_withCtx","_cache","_component_LoginGoogleBtn"],"mappings":"6TA6DeA,EAEd,EAED,MAAMC,EAASC,EAAU,EACnBC,EAAOC,EAAgB,qCAGJC,GAChBA,EAAK,QAAUA,EAAK,OAAO,MAAM,sBAIrB,MAAOC,GAAkB,CACxC,GAAA,CACF,MAAMC,EAAiB,MAAMC,EACzBL,EACAG,EAAS,MACTA,EAAS,QACb,EAGIC,EAAe,MACX,MAAAE,EAAcF,EAAe,KAAM,CACvC,YAAaD,EAAS,IAAA,CACvB,EAIHL,EAAO,KAAK,GAAG,QACRS,EAAQ,CACT,MAAAC,EAAeC,EAAgBF,GAAA,YAAAA,EAAG,IAAI,EAC5CG,EAAW,GAAIF,CAAY,CAAA,CAE/B,4PA7FEG,SAEIC,EA6CU,EAAAC,EAAA,MAAAC,EAAA,CA7CUC,EAAA,MAAAC,EAAA,CAAAC,EAAWC,EAAK,CAAG,KAAA,OAAA,QAAA,GAJ7C,SAAAC,EAAA,YAAA,EAAA,SAMgBC,EAAO,IAAA,CAAAH,EACNC,EAAM,CACX,KAAK,OACL,KAAA,OAAA,MAAA,YAGJ,WAKE,UAAA,CAAA,IAHOA,EAAO,CACZ,KAAK,QACL,KAAA,QAAA,MAAA,gBAGJ,WAQE,gBAAA,CAAA,IANOA,EAAU,CACf,KAAK,WACL,KAAA,WACC,MAAA,WAAA,WAAA,oBAEF,sBAAA,CAAA,OAAA,uBAGH,CAAA,CAAA,IAESA,EAAiB,CACtB,KAAK,WACL,KAAA,kBACA,MAAA,mBACC,WAAA,mBACA,mBAAA,wBAAA,mBAAA,CAAA,QAAAC,EAAA,eAAA,EAEF,sBAAA,CAAA,QAAA,+CAID,KAKS,EAAA,CAAA,kBAAA,CAAA,EAJLE,EAAA,CAAI,IAACA,EAAQ,CAAA,EAAAN,EAAA,MAAA,KAAA,CACPA,EAAA,SAAA,CACT,KAAA,SAAA,MAAA,8PA7CX,EAAA,EAAA,EAAA,CAAA,EAmDM,EAAA,CAAA,CAAA,EAGFE,EAAmBK,CAAA,CAAA,CAAA"}