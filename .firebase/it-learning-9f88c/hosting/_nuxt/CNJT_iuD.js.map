{"version":3,"file":"CNJT_iuD.js","sources":["../../../../pages/login/forgot-password.vue"],"sourcesContent":["<!-- pages/forgot-password.vue -->\n<template>\n  <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]\">\n    <div class=\"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12\">\n      <FormKit\n          v-if=\"!emailSent\"\n          type=\"form\"\n          :actions=\"false\"\n          :onSubmit=\"handleResetPassword\"\n      >\n        <FormKit\n            type=\"email\"\n            name=\"email\"\n            label=\"Email address\"\n            validation=\"required|email\"\n        />\n\n        <div>\n          <button\n              type=\"submit\"\n              :disabled=\"loading\"\n              class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n          >\n            {{ loading ? 'Sending...' : 'Send reset link' }}\n          </button>\n        </div>\n      </FormKit>\n\n      <!-- Success message -->\n      <div v-else class=\"text-center\">\n        <div class=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100\">\n          <svg class=\"h-6 w-6 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n          </svg>\n        </div>\n        <h3 class=\"mt-3 text-base font-semibold text-gray-900\">Check your email</h3>\n        <p class=\"mt-2 text-sm text-gray-500\">\n          We've sent a password reset link to {{ email }}\n        </p>\n        <div class=\"mt-6\">\n          <button\n              type=\"button\"\n              @click=\"resetForm\"\n              class=\"text-sm font-semibold text-indigo-600 hover:text-indigo-500\"\n          >\n            Send another email\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <LoginSigninLink />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { sendPasswordResetEmail } from 'firebase/auth'\n\ndefinePageMeta({\n  layout: 'auth'\n})\n\nconst auth = useFirebaseAuth()\nconst loading = ref(false)\nconst emailSent = ref(false)\nconst email = ref('')\n\n// Handle password reset\nconst handleResetPassword = async (formData: any) => {\n  loading.value = true\n  email.value = formData.email\n\n  try {\n    await sendPasswordResetEmail(auth, formData.email)\n    emailSent.value = true\n  } catch (e: any) {\n    let errorMessage = getErrorMessage(e?.code)\n    toastError('', errorMessage)\n  } finally {\n    loading.value = false\n  }\n}\n\n// Reset form to send another email\nconst resetForm = () => {\n  emailSent.value = false\n  email.value = ''\n}\n</script>\n"],"names":["definePageMeta","auth","useFirebaseAuth","loading","ref","emailSent","email","formData","sendPasswordResetEmail","e","errorMessage","getErrorMessage","toastError","_hoisted_1","_hoisted_2","_hoisted_3","__nuxt_component_0","_openBlock","_createElementBlock","_createElementVNode","$setup","_Fragment","_createCommentVNode","_hoisted_4","_cache","_hoisted_5","_toDisplayString","_createBlock","_component_FormKit","_withCtx","_createVNode"],"mappings":"yTA0DeA,EAEd,EAED,MAAMC,EAAOC,EAAgB,EACvBC,EAAUC,EAAI,EAAK,EACnBC,EAAYD,EAAI,EAAK,EACrBE,EAAQF,EAAI,EAAE,8DAGQ,MAAOG,GAAkB,CACnDJ,EAAQ,MAAQ,GAChBG,EAAM,MAAQC,EAAS,MAEnB,GAAA,CACI,MAAAC,EAAuBP,EAAMM,EAAS,KAAK,EACjDF,EAAU,MAAQ,SACXI,EAAQ,CACX,IAAAC,EAAeC,EAAgBF,GAAA,YAAAA,EAAG,IAAI,EAC1CG,EAAW,GAAIF,CAAY,CAAA,QAC3B,CACAP,EAAQ,MAAQ,EAAA,CAEpB,YAGkB,IAAM,CACtBE,EAAU,MAAQ,GAClBC,EAAM,MAAQ,EAChB,mFAvFAO,EAAA,CAAA,MAAA,6CAAA,EA6BkBC,EAAA,CAAA,MAAM,mDAAa,EAOpBC,EAAA,CAAA,UAAA,gHAlCfC,SAGeC,EAAS,EAAAC,EAAA,MAAAL,EAAA,CAAAM,EAAA,MADpBL,EAsBU,CAAAM,EA1BhB,WA6BMH,EAAA,EAAAC,EAAAG,EAmBM,CAAA,IAAA,CAAA,EAAA,CAlBJC,EAAA,mBAAA,EAAAH,EACE,MAEMI,EAAA,CAAAC,EAFD,CAAM,IAAAA,EAAA,CAAA,EAAAL,EAAwB,MAAA,CAAA,MAAA,8EAAA,EAAA,CAAYA,EAAA,MAAA,CAAC,MAAO,yBAAa,KAAA,OAAmB,QAAO,YAAA,eAAA,MAC5F,OAAA,cAAA,EAAA,GAA4C,OAAQ,CAAC,iBAAE,QAAA,kBAAA,qCAI3D,EAAA,EAAA,GAGAK,EAQM,CAAA,IAAAA,EAAA,CAAA,EAAAL,EARW,KAAA,CAAA,MAAA,4CAAA,EAAA,mBAAA,EAAA,GAAAA,EACf,IAMSM,EAAA,wCAAAC,EAAAN,EAAA,KAAA,EAAA,CAAA,EALQD,EAAA,MAAA,CAAA,MAAA,MAAA,EAAA,CAAAA,EACL,SAAS,CACjB,KAAK,SACR,QAAAC,EAAA,UAAA,MAAA,0FAOP,EAAA,IAAmB,QA7CFO,EAAAC,EAAA,CACV,IAAA,EACA,KAAA,OAAA,QAAA,GARX,SAAAR,EAAA,mBAAA,EAAA,SAWgBS,EAAQ,IAAA,CAAAC,EACPF,EAAO,CACZ,KAAK,QACL,KAAA,QAAA,MAAA,gBAGJ,WAAA,gBAAA,CAAA,EAEmBT,EAAA,MAAA,KAAA,CAAAA,EACF,SAAO,CAClB,KAAK,SAAA,SAAAC,EAAA,gTArBnB,CAAA,CAAA,CAAA,KA6BM,CAAA,EAsBiB,CAAA"}